{% extends 'base.html' %}
{% block title %} {% endblock %}
{% block content %}

<!-- This page allows a logged in user to edit their profile. The user will be able to change their username, email, bio, and location. The user will also need to enter their password to confirm the changes. If the user does not enter their password, the changes will not be saved. If the user enters an incorrect password, the changes will not be saved. If the user enters a password that is not their current password, the changes will not be saved. If the user enters their current password, the changes will be saved. -->
<div class="row justify-content-md-center">
  <div class="col-md-6">
    <h2 class="join-message">Edit Your Profile.</h2>
    <form method="POST" id="user_form">
      {{ form.hidden_tag() }}

      {% for field in form if field.widget.input_type != 'hidden' and field.name != 'password' %}
      {% for error in field.errors %}
      <span class="text-white">{{ error }}</span>
      {% endfor %}
      {{ field(placeholder=field.label.text, class="form-control") }}
      {% endfor %}

      <p>To confirm changes, enter your password:</p>
      {% if form.password.errors %}
      {% for error in form.password.errors %}
      <span class="text-white">
        {{ error }}
      </span>
      {% endfor %}
      {% endif %}
      {{ form.password(placeholder="Enter your password to confirm", class="form-control") }}

      <div class="edit-btn-area">
        <button class="btn btn-primary">Edit this user!</button>
        <a href="/" class="btn btn-warning">Cancel</a>
      </div>
    </form>
  </div>
</div>

{% endblock %}